@model IEnumerable<EatTogether.Models.SessionModel>

    <table class="table">

        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.UserCount)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.SpaceRemaining)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Date)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.City)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Place.Name)
                </th>
            </tr>
        </thead>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.UserCount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SpaceRemaining)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.City)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Place.Name)
                </td>

                @if (ViewBag.whole && ViewBag.joined)
                {
                    <td>
                        @Html.ActionLink("Join", "Join", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id })
                    </td>
                }

                else if (!ViewBag.whole && !ViewBag.joined)
                {
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                }
                else if (!ViewBag.whole && ViewBag.joined)
                {
                    <td>
                        @Html.ActionLink("Leave", "Disjoin", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id })
                    </td>
                }
                else
                {
                    <td>
                        @Html.ActionLink("Rate", "Rate", new { id = item.Id })
                    </td>
                }
            </tr>
        }

    </table>
